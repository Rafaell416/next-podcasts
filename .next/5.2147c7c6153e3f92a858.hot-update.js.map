{"version":3,"file":"5.2147c7c6153e3f92a858.hot-update.js","sources":["webpack:///pages/channel.js"],"sourcesContent":["import { Component } from 'react'\nimport Layout from '../Components/Layout'\nimport SeriesList from '../Components/SeriesList'\nimport ClipsList from '../Components/ClipsList'\nimport Error from 'next/error'\n\nexport default class extends Component {\n\n  static async getInitialProps({ query, res }) {\n\n    try {\n      let idChannel = query.id\n\n      let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n        fetch(`https://api.audioboom.com/channels/${idChannel}`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`),\n        fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)\n      ])\n\n      if (reqChannel.status >= 400) {\n        res.statusCode = 404\n        return { channel: null, audioClips: null, series: null, statusCode: reqChannel.status }\n      }\n\n      let dataChannel = await reqChannel.json()\n      let channel = dataChannel.body.channel\n\n      let dataAudios = await reqAudios.json()\n      let audioClips = dataAudios.body.audio_clips\n\n      let dataSeries = await reqSeries.json()\n      let series = dataSeries.body.channels\n\n      return { channel, audioClips, series, statusCode: 200 }\n    } catch (e) {\n      res.statusCode = 503\n      return { channel: null, audioClips: null, series: null, statusCode: 503 }\n    }\n  }\n\n  render() {\n    const { channel, audioClips, series, statusCode } = this.props\n    if (statusCode !== 200) {\n      return <Error statusCode={ statusCode }/>\n    }\n\n    return (\n      <Layout title={channel.title}>\n        <div className=\"banner\" style={{ backgroundImage: `url(${channel.urls.banner_image.original})` }} />\n        <h1>{ channel.title }</h1>\n\n        { series.length > 0 && <SeriesList series={ series }/> }\n\n        <h2>Ultimos Podcasts</h2>\n        <ClipsList clips={ audioClips }/>\n\n        <style jsx>{`\n          .banner {\n            width: 100%;\n            padding-bottom: 25%;\n            background-position: 50% 50%;\n            background-size: cover;\n            background-color: #aaa;\n          }\n          h1 {\n            font-weight: 600;\n            padding: 15px;\n          }\n          h2 {\n            padding: 5px;\n            font-size: 0.9em;\n            font-weight: 600;\n            margin: 0;\n            text-align: center;\n          }\n        `}</style>\n      </Layout>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// pages/channel.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAmCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AA+BA;;;;;;;;;;;;;AAtEA;;AAGA;;AAEA;AACA;;;;AADA;AAAA;AAAA;AACA;AAKA;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;;AAEA;AACA;;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AA/BA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}